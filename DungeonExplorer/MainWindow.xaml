<Window x:Class="DungeonExplorer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:DungeonExplorer.Converters"
        Title="Dungeon Explorer" Height="450" Width="800">
    <Window.Resources>
        <conv:BooleanToVisibilityConverter x:Key="BoolToVis" />
    </Window.Resources>
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>            <!-- Game Over -->
            <RowDefinition Height="Auto"/>            <!-- Player -->
            <RowDefinition Height="Auto"/>            <!-- Current Room -->
            <RowDefinition Height="Auto"/>            <!-- Item in Room -->
            <RowDefinition Height="Auto"/>            <!-- Stats (Moves/Par/Score) -->
            <RowDefinition Height="*"/>               <!-- Inventory -->
            <RowDefinition Height="Auto"/>            <!-- Status + Controls -->
        </Grid.RowDefinitions>

        <!-- Game Over banner -->
        <TextBlock Grid.Row="0"
               Text="GAME OVER"
               HorizontalAlignment="Center"
               Foreground="Red"
               FontSize="20"
               FontWeight="Bold"
               Visibility="{Binding IsGameOver, Converter={StaticResource BoolToVis}}"/>

        <!-- Player info -->
        <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,0,0,8">
            <TextBlock Text="Player: " FontWeight="Bold"/>
            <TextBlock Text="{Binding Player.Name}"/>
        </StackPanel>

        <!-- Current room -->
        <StackPanel Orientation="Horizontal" Grid.Row="2" Margin="0,0,0,8">
            <TextBlock Text="Current Room: " FontWeight="Bold"/>
            <TextBlock Text="{Binding Player.CurrentRoom}"/>
        </StackPanel>

        <!-- Item in the room -->
        <StackPanel Orientation="Horizontal" Grid.Row="3" Margin="0,0,0,8">
            <TextBlock Text="Item in this room: " FontWeight="Bold"/>
            <TextBlock Text="{Binding CurrentRoomItem}"/>
        </StackPanel>

        <!-- Stats: Moves, Par, Score -->
        <StackPanel Orientation="Horizontal" Grid.Row="4" Margin="0,0,0,8">
            <TextBlock Text="Moves: " FontWeight="Bold"/>
            <TextBlock Text="{Binding MoveCount}" Margin="0,0,16,0"/>

            <TextBlock Text="Par: " FontWeight="Bold"/>
            <TextBlock Text="{Binding Par}" Margin="0,0,16,0"/>

            <TextBlock Text="Score: " FontWeight="Bold"/>
            <TextBlock Text="{Binding Score}"/>
        </StackPanel>

        <!-- Inventory -->
        <GroupBox Grid.Row="5" Header="Inventory" Margin="0,8,0,0">
            <ItemsControl ItemsSource="{Binding Player.Inventory}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </GroupBox>

        <!-- Status + movement & pickup controls -->
        <StackPanel Grid.Row="6" Margin="0,16,0,0">
            <TextBlock Text="{Binding StatusMessage}"
                   TextWrapping="Wrap"
                   Margin="0,0,0,8"/>

            <Grid Margin="0,0,0,8">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Movement buttons -->
                <Button Grid.Row="0" Grid.Column="1" Content="North"
                    Command="{Binding MoveNorthCommand}"
                    Width="80" Margin="4"/>

                <Button Grid.Row="1" Grid.Column="0" Content="West"
                    Command="{Binding MoveWestCommand}"
                    Width="80" Margin="4"/>

                <Button Grid.Row="1" Grid.Column="1" Content="South"
                    Command="{Binding MoveSouthCommand}"
                    Width="80" Margin="4"/>

                <Button Grid.Row="1" Grid.Column="2" Content="East"
                    Command="{Binding MoveEastCommand}"
                    Width="80" Margin="4"/>
            </Grid>

            <!-- Pickup button -->
            <Button Content="Pick Up Item"
                Command="{Binding PickupItemCommand}"
                Width="120"
                HorizontalAlignment="Left"
                Margin="4,0,0,0"/>
        </StackPanel>
    </Grid>

</Window>
